{% extends "base.html" %}

{% block content %}
<h1>Flashcards</h1>

<div id="flashcard-container">
    <div id="card-front" style="display: {% if flipped %}none{% else %}block{% endif %};">
        <h2>Question</h2>
        <p>{{ current_flashcard.question }}</p>
    </div>
    <div id="card-back" style="display: {% if flipped %}block{% else %}none{% endif %};">
        <h2>Answer</h2>
        <p>{{ current_flashcard.answer }}</p>
    </div>
</div>

<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" name="action" value="flip">Flip</button>
    <button type="submit" name="action" value="previous">Previous</button>
    <button type="submit" name="action" value="next">Next</button>
</form>

{% if flashcards and flashcards|length > 0 %}
<h3>Flashcards List</h3>
<ul>
    {% for flashcard in flashcards %}
    <li class="{{ flashcard.difficulty }} {% if flashcard == current_flashcard %}selected{% endif %}">
        <form method="post" style="display: inline;">
            {% csrf_token %}
            <input type="hidden" name="card_id" value="{{ flashcard.id }}">
            <input type="hidden" name="action" value="select">
            <a href="#" onclick="this.closest('form').submit(); return false;">
                {{ flashcard.question|slice:":50" }}{% if flashcard.question|length > 50 %}...{% endif %}
            </a>
        </form>
    </li>
    {% endfor %}
</ul>
{% endif %}





{% endblock %}
